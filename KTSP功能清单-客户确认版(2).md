# KTSP预订系统 - 功能清单（客户确认版）

## 项目概述

- **项目名称**：KTSP高尔夫球场预订系统
- **交付形式**：H5网页 + 管理后台
- **开发周期**：1个月

---

## 一、用户端功能（H5网页）

### 1.1 注册登录模块

| 功能 | 说明 | 包含 |
|------|------|:----:|
| 手机号登录 | 手机号+短信验证码注册/登录 | ✅ |
| Apple登录 | Apple ID一键登录 | ✅ |
| Google登录 | Google账号一键登录 | ✅ |
| 实名认证 | 上传身份证照片，后台人工审核 | ✅ |

### 1.2 首页

| 功能 | 说明 | 包含 |
|------|------|:----:|
| 轮播图Banner | 展示活动/场地图片 | ✅ |
| 场地分类入口 | 打位、模拟器、VIP房等快捷入口 | ✅ |
| 智能推荐打位 | 根据历史记录推荐场地 | ✅ |

### 1.3 场地预约（核心功能）

| 功能 | 说明 | 包含 |
|------|------|:----:|
| 场地列表 | 打位、模拟器室、推杆果岭、VIP房间等 | ✅ |
| 日历视图 | 选择预约日期 | ✅ |
| 时段选择 | 支持15/30/60分钟为单位 | ✅ |
| 实时档期显示 | 已满/可预约/维护中 状态展示 | ✅ |
| 预约规则提示 | 取消时限、失约扣费等规则说明 | ✅ |
| 多人联机预约 | 邀请好友一起预约，发送邀请通知 | ✅ |
| 预约成功通知 | 站内消息推送 | ✅ |

### 1.4 教练预约

| 功能 | 说明 | 包含 |
|------|------|:----:|
| 教练列表 | 教练简介、评分展示 | ✅ |
| 教练档期 | 查看教练可预约时段 | ✅ |
| 一对一预约 | 预约私教课程 | ✅ |

### 1.5 团体课程

| 功能 | 说明 | 包含 |
|------|------|:----:|
| 课程列表 | 短杆课、长杆课、青少年班等 | ✅ |
| 课程详情 | 时间、人数、价格、教练 | ✅ |
| 课程报名 | 在线报名，人数限制 | ✅ |

### 1.6 个人中心

| 功能 | 说明 | 包含 |
|------|------|:----:|
| 会员等级 | 普通/银卡/金卡/黑卡 显示 | ✅ |
| 积分余额 | 积分显示 | ✅ |
| 优惠券 | 我的优惠券列表 | ✅ |
| 预约记录 | 即将进行/历史记录 | ✅ |
| 积分流水 | 积分获取/消费明细 | ✅ |
| 个人资料 | 头像、昵称、联系方式编辑 | ✅ |

### 1.7 积分商城

| 功能 | 说明 | 包含 |
|------|------|:----:|
| 积分规则 | 获取积分的规则说明 | ✅ |
| 签到打卡 | 每日签到获取积分 | ✅ |
| 积分任务 | 首次预约、评价、分享等任务 | ✅ |
| 商品列表 | 实物商品、虚拟商品分类展示 | ✅ |
| 商品详情 | 所需积分、库存显示 | ✅ |
| 积分兑换 | 填写地址或选择到店领取 | ✅ |
| 兑换记录 | 查询兑换历史 | ✅ |
| 过期提醒 | 积分即将过期提醒 | ✅ |

### 1.8 其他功能

| 功能 | 说明 | 包含 |
|------|------|:----:|
| 消息中心 | 系统通知、预约提醒、活动通知、邀请通知 | ✅ |
| 优惠券 | 领取、查看、使用优惠券 | ✅ |
| 推荐有礼 | 邀请好友注册，双方获得奖励 | ✅ |
| 预约评价 | 预约完成后评价场地/教练 | ✅ |
| 意见反馈 | 提交问题反馈 | ✅ |

---

## 二、管理后台功能

### 2.1 员工管理

| 功能 | 说明 | 包含 |
|------|------|:----:|
| 账号体系 | 超级管理员、店长、前台、教练 | ✅ |
| 权限控制 | 不同角色不同菜单和权限 | ✅ |

### 2.2 场地管理

| 功能 | 说明 | 包含 |
|------|------|:----:|
| 场地增删改查 | 新增/编辑/删除打位、模拟器房等 | ✅ |
| 营业时间 | 设置每日营业时间 | ✅ |
| 节假日设置 | 节假日特殊时间配置 | ✅ |
| 临时维护 | 临时关闭/维护某个场地 | ✅ |

### 2.3 价格管理

| 功能 | 说明 | 包含 |
|------|------|:----:|
| 分时定价 | 工作日/周末/节假日不同价格 | ✅ |
| 时段定价 | 高峰/平峰时段不同价格 | ✅ |
| 会员折扣 | 不同会员等级不同折扣 | ✅ |

### 2.4 预约管理

| 功能 | 说明 | 包含 |
|------|------|:----:|
| 预约看板 | 今日全部预约实时查看 | ✅ |
| 手动预约 | 帮客户创建预约 | ✅ |
| 取消/改期 | 处理取消和改期请求 | ✅ |
| 失约处理 | 标记失约，记录扣费 | ✅ |
| 黑名单 | 管理黑名单用户 | ✅ |

### 2.5 教练管理

| 功能 | 说明 | 包含 |
|------|------|:----:|
| 教练信息 | 教练资料管理 | ✅ |
| 排班表 | 教练时间排班 | ✅ |
| 课程价格 | 一对一教学价格设定 | ✅ |

### 2.6 会员管理

| 功能 | 说明 | 包含 |
|------|------|:----:|
| 会员列表 | 搜索、查看会员 | ✅ |
| 调整积分/等级 | 手动调整会员积分和等级 | ✅ |
| 冻结/解冻 | 会员卡状态管理 | ✅ |
| 实名审核 | 审核用户实名认证 | ✅ |

### 2.7 积分商城管理

| 功能 | 说明 | 包含 |
|------|------|:----:|
| 商品管理 | 上架/下架商品 | ✅ |
| 库存管理 | 库存数量调整 | ✅ |
| 兑换订单 | 处理兑换订单、发货 | ✅ |

### 2.8 营销活动

| 功能 | 说明 | 包含 |
|------|------|:----:|
| 优惠券 | 创建、发放优惠券 | ✅ |
| 消息推送 | 发送站内通知 | ✅ |

### 2.9 数据报表

| 功能 | 说明 | 包含 |
|------|------|:----:|
| 营收统计 | 日/周/月营收报表 | ✅ |
| 预约统计 | 预约数量、到店率 | ✅ |
| 会员统计 | 会员活跃度、复购率 | ✅ |

---

## 三、核心业务流程

### 3.1 场地预约流程

```
用户操作                                    系统/后台操作
────────────────────────────────────────────────────────────────
1. 用户登录H5
      ↓
2. 首页选择场地 → 进入场地详情
      ↓
3. 选择日期 → 查看可用时段
      ↓
4. 选择时段+时长 → 显示价格（含会员折扣）
      ↓
5. 确认预约 → 提交订单
      ↓                                    ← 系统生成预约订单（状态：待消费）
6. 收到预约成功通知
      ↓
7. 用户到店消费
      ↓                                    ← 前台/店长在后台确认到店
8. 消费完成
      ↓                                    ← 后台点击"确认完成"
                                           ← 系统自动发放积分
                                           ← 订单状态变为"已完成"
9. 用户收到积分到账通知
      ↓
10. 用户可进行评价
```

### 3.2 多人联机预约流程

```
发起人操作                   被邀请人操作               系统操作
────────────────────────────────────────────────────────────────
1. 发起人创建预约
      ↓
2. 选择"邀请好友"
      ↓
3. 搜索好友/输入手机号
      ↓
4. 发送邀请                                    → 系统发送邀请通知
                                 ↓
                           5. 好友登录后看到邀请消息
                                 ↓
                           6. 查看预约详情
                                 ↓
                           7. 点击"接受邀请"    → 系统记录参与者
                                 ↓
8. 发起人看到好友已接受
      ↓
9. 到店一起消费
      ↓                                        → 后台确认完成
                                               → 所有参与者获得积分
```

### 3.3 订单状态流转

```
┌─────────┐    用户预约    ┌─────────┐    用户到店    ┌─────────┐
│  待预约  │ ──────────→ │ 待消费  │ ──────────→  │ 进行中  │
└─────────┘              └─────────┘              └─────────┘
                              │                       │
                              │ 用户取消              │ 消费完成
                              ↓                       ↓
                         ┌─────────┐           ┌─────────┐
                         │ 已取消  │           │ 已完成  │ → 发放积分
                         └─────────┘           └─────────┘
                              │
                              │ 未到店+超时
                              ↓
                         ┌─────────┐
                         │  失约   │ → 扣费/扣积分
                         └─────────┘
```

### 3.4 积分发放规则

| 触发条件 | 积分操作 | 操作人 |
|----------|----------|--------|
| 预约消费完成 | +积分（按消费金额计算） | 后台确认后自动发放 |
| 每日签到 | +固定积分 | 用户点击签到 |
| 完成积分任务 | +任务积分 | 系统自动发放 |
| 邀请好友注册 | +奖励积分 | 好友注册后自动发放 |
| 积分兑换商品 | -积分 | 用户兑换时扣除 |
| 订单取消（已发积分） | -积分（回收） | 系统自动回收 |

### 3.5 推荐有礼流程

```
邀请人操作                   被邀请人操作               系统操作
────────────────────────────────────────────────────────────────
1. 进入"推荐有礼"页面
      ↓
2. 获取专属邀请码/链接
      ↓
3. 分享给好友
                                 ↓
                           4. 好友点击链接
                                 ↓
                           5. 好友注册账号      → 系统记录邀请关系
                                 ↓
                           6. 好友完成首次预约  → 触发奖励条件
                                               → 双方获得积分/免费时长
7. 收到奖励通知
```

### 3.6 积分兑换流程

```
用户操作                                    系统/后台操作
────────────────────────────────────────────────────────────────
1. 进入积分商城
      ↓
2. 浏览商品 → 选择商品
      ↓
3. 确认兑换（检查积分是否足够）
      ↓
4. 填写收货地址（实物）/ 选择到店领取
      ↓
5. 提交兑换订单                             ← 系统扣除积分
                                           ← 生成兑换订单
      ↓
6. 等待处理                                ← 后台看到兑换订单
                                           ← 处理发货/备货
      ↓
7. 收到发货通知 / 到店领取
      ↓
8. 确认收货                                ← 订单完成
```

### 3.7 教练预约流程

```
用户操作                                    系统/后台操作
────────────────────────────────────────────────────────────────
1. 进入教练列表
      ↓
2. 选择教练 → 查看教练详情和评分
      ↓
3. 查看教练可预约时段（根据排班表）
      ↓
4. 选择时段 → 显示私教价格
      ↓
5. 确认预约
      ↓                                    ← 系统生成教练预约订单
6. 到店上课
      ↓                                    ← 后台确认完成
7. 评价教练
```

---

## 四、接口预留（不实现业务，仅预留）

| 功能 | 说明 |
|------|------|
| 售卖机/租杆接口 | 预留数据表和API路径，供未来接入智能设备 |

---

## 五、需要确认的问题

### 业务规则确认

| # | 问题 | 选项/说明 |
|---|------|----------|
| 1 | 取消规则 | 提前多久取消免费？超时取消扣多少？ |
| 2 | 失约规则 | 失约怎么判定？怎么扣费？ |
| 3 | 会员等级 | 升级/降级的具体消费金额是多少？ |
| 4 | 积分规则 | 消费1元=多少积分？签到给多少积分？ |
| 5 | 推荐奖励 | 邀请成功双方各获得什么奖励？ |
| 6 | 节假日 | 节假日数据由系统维护还是手动设置？ |
| 7 | 时段粒度 | 最小预约单位是15分钟，确认？ |

### 第三方服务确认

| # | 服务 | 说明 |
|---|------|------|
| 1 | 短信服务商 | 阿里云/腾讯云，需要提供企业资质 |
| 2 | Apple开发者账号 | 需要$99/年，是否已有？ |
| 3 | Google Cloud账号 | 用于Google登录配置 |

---

## 六、交付物

1. H5用户端网页（响应式，手机电脑均可用）
2. 管理后台网页
3. 后端API服务
4. 数据库
5. 部署文档

---

*以上功能清单请确认，如有疑问请提出*
